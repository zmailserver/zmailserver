# Definitions for RHEL4

# 3rd PARTY INCLUDES

ifeq ($(PACKAGING_COMMAND), rpmbuild)
	PACKAGING_VERSION := $(shell $(PACKAGING_COMMAND) --version)
endif

ifeq ($(PACKAGING_VERSION), RPM version 4.4.1)
	RPMCOPYRIGHTSTR := License
else
	RPMCOPYRIGHTSTR := Copyright
endif
ifeq ($(PACKAGING_VERSION), RPM version 4.4.2)
	RPMCOPYRIGHTSTR := License
endif

BUNDLE_EXT := tgz

THIRD_PARTY	:= $(BUILD_ROOT)/../ThirdParty
THIRD_PARTY_BUILDS	:= $(BUILD_ROOT)/../ThirdPartyBuilds

PCRE_VERSION	:= 8.13
EXPAT_VERSION	:= 2.0.1
POPT_VERSION	:= 1.16

LDAP_VERSION	:= 2.4.35.2z
LDAP_DIR	:= openldap
LDAP_SOURCE	:= $(THIRD_PARTY_BUILDS)/$(BUILD_PLATFORM)/$(LDAP_DIR)/$(LDAP_DIR)-$(LDAP_VERSION)
LDAP_LIBS	:= $(THIRD_PARTY_BUILDS)/$(BUILD_PLATFORM)/$(LDAP_DIR)/$(LDAP_DIR)-libs-$(LDAP_VERSION)

LIBMCD_VERSION	:= 1.0.6
LIBMCD_DIR	:= libmemcached-$(LIBMCD_VERSION)
LIBMCD_SOURCE	:= $(THIRD_PARTY_BUILDS)/$(BUILD_PLATFORM)/libmemcached/$(LIBMCD_DIR)

DKIM_VERSION	:= 2.8.0
DKIM_DIR	:= opendkim-$(DKIM_VERSION)
DKIM_SOURCE	:= $(THIRD_PARTY_BUILDS)/$(BUILD_PLATFORM)/opendkim/$(DKIM_DIR)

BDB_VERSION	:= 5.2.36
BDB_DIR		:= bdb-$(BDB_VERSION)
BDB_SOURCE	:= $(THIRD_PARTY_BUILDS)/$(BUILD_PLATFORM)/bdb/$(BDB_DIR)

TCMALLOC_VERSION	:= 2.0
TCMALLOC_DIR		:= tcmalloc-$(TCMALLOC_VERSION)
TCMALLOC_SOURCE		:= $(THIRD_PARTY_BUILDS)/$(BUILD_PLATFORM)/tcmalloc/$(TCMALLOC_DIR)

TOMCAT_MAJOR_VER	:= 5
TOMCAT_MINOR_VER	:= 5
TOMCAT_MICRO_VER	:= 15
TOMCAT_VERSION		:= $(TOMCAT_MAJOR_VER).$(TOMCAT_MINOR_VER).$(TOMCAT_MICRO_VER)
TOMCAT_DIR				:= apache-tomcat-$(TOMCAT_VERSION)
TOMCAT_HOME				:= /opt/zimbra/$(TOMCAT_DIR)
TOMCAT_SOURCE			:= $(THIRD_PARTY)/jakarta-tomcat/$(TOMCAT_DIR)

JETTY_MAJOR_VER		:= 7
JETTY_MINOR_VER		:= 6
JETTY_MICRO_VER		:= 10.z5
JETTY_VERSION			:= $(JETTY_MAJOR_VER).$(JETTY_MINOR_VER).$(JETTY_MICRO_VER)
JETTY_DIR					:= jetty-distribution-$(JETTY_VERSION)
JETTY_HOME				:= /opt/zimbra/$(JETTY_DIR)
JETTY_SOURCE			:= $(THIRD_PARTY)/jetty/$(JETTY_DIR)

ifeq ($(ZIMBRA_USE_TOMCAT), 1)
MAILBOXD_SERVER := tomcat
MAILBOXD_MINOR_VERSION := $(TOMCAT_MAJOR_VER).$(TOMCAT_MINOR_VER)
MAILBOXD_VERSION := $(TOMCAT_VERSION)
MAILBOXD_DIR := $(TOMCAT_DIR)
MAILBOXD_SOURCE := $(TOMCAT_SOURCE)
else
MAILBOXD_SERVER := jetty
MAILBOXD_MINOR_VERSION := $(JETTY_MAJOR_VER).$(JETTY_MINOR_VER)
MAILBOXD_VERSION := $(JETTY_VERSION)
MAILBOXD_DIR := $(JETTY_DIR)
MAILBOXD_SOURCE := $(JETTY_SOURCE)
endif

MYSQL_VERSION_STRING := 5.5.30
MYSQL_VERSION	:= standard-$(MYSQL_VERSION_STRING)-pc-linux-gnu-i686-glibc23
MYSQL_DIR	= mysql-$(MYSQL_VERSION)
MYSQL_SOURCE 	= $(THIRD_PARTY_BUILDS)/$(BUILD_PLATFORM)/mysql/$(MYSQL_DIR)

POSTFIX_VERSION := 2.10.0.2z
POSTFIX_DIR	:= postfix-$(POSTFIX_VERSION)
POSTFIX_SOURCE	:= $(THIRD_PARTY_BUILDS)/$(BUILD_PLATFORM)/postfix/$(POSTFIX_DIR)

APACHE_VERSION := 2.4.4
APACHE_DIR  := httpd-$(APACHE_VERSION)
APACHE_SOURCE := $(THIRD_PARTY_BUILDS)/$(BUILD_PLATFORM)/apache-httpd/$(APACHE_DIR)

SPELL_VERSION := 0.60.6.1
SPELL_DIR := aspell-$(SPELL_VERSION)
SPELL_SOURCE := $(THIRD_PARTY_BUILDS)/$(BUILD_PLATFORM)/aspell/$(SPELL_DIR)

RRD_VERSION	:= 1.2.30
RRD_DIR 	:= rrdtool-$(RRD_VERSION)
RRD_SOURCE	:= $(THIRD_PARTY_BUILDS)/$(BUILD_PLATFORM)/rrdtool/$(RRD_DIR)

RSYNC_VERSION	:= 3.0.9
RSYNC_DIR 	:= rsync-$(RSYNC_VERSION)
RSYNC_SOURCE	:= $(THIRD_PARTY_BUILDS)/$(BUILD_PLATFORM)/rsync/$(RSYNC_DIR)

SNMP_VERSION := 5.7.2
SNMP_DIR	:= net-snmp-$(SNMP_VERSION)
SNMP_SOURCE	:= $(THIRD_PARTY_BUILDS)/$(BUILD_PLATFORM)/snmp/$(SNMP_DIR)

JDK_VERSION	:= 7
JAVA_VERSION	:= 1.7.0_21
JAVA_FILE	:= jdk
JAVA_DIR	:= java
JAVA_SOURCE	:= $(THIRD_PARTY_BUILDS)/i386/$(JAVA_DIR)/$(JAVA_FILE)-$(JAVA_VERSION)
JCE_SOURCE	:= $(THIRD_PARTY_BUILDS)/i386/$(JAVA_DIR)/jce/UnlimitedJCEPolicy$(JDK_VERSION)
JUNIXSOCKET_NATIVE	:= $(THIRD_PARTY_BUILDS)/x86_64/$(JAVA_DIR)/junixsocket/libjunixsocket-linux-1.5-amd64.so

ZIMBRA_USE_CBPOLICYD ?= 1
CBPOLICYD_VERSION := 2.1.0-beta
CBPOLICYD_DIR := cbpolicyd-$(CBPOLICYD_VERSION)
CBPOLICYD_SOURCE := $(ZMCBPOLICYD_DIR)/src/$(CBPOLICYD_DIR).tgz

MEMCACHED_VERSION	:= 1.4.10
MEMCACHED_DIR		:= memcached-$(MEMCACHED_VERSION)
MEMCACHED_SOURCE 	:= $(THIRD_PARTY_BUILDS)/$(BUILD_PLATFORM)/memcached/$(MEMCACHED_DIR)

NGINX_VERSION	:= 1.2.0-zimbra
NGINX_DIR	:= nginx-$(NGINX_VERSION)
NGINX_SOURCE	:= $(THIRD_PARTY_BUILDS)/$(BUILD_PLATFORM)/nginx/$(NGINX_DIR)

CLAMAV_VERSION := 0.97.8
CLAMAV_DIR :=  clamav
CLAMAV_SOURCE := $(THIRD_PARTY_BUILDS)/$(BUILD_PLATFORM)/$(CLAMAV_DIR)/clamav-$(CLAMAV_VERSION)

ALTERMIME_VERSION := 0.3.10
ALTERMIME_DIR := altermime
ALTERMIME_SOURCE := $(THIRD_PARTY_BUILDS)/$(BUILD_PLATFORM)/$(ALTERMIME_DIR)/$(ALTERMIME_DIR)-$(ALTERMIME_VERSION)

AMAVISD_VERSION	:= 2.8.0
AMAVISD_DIR	:= amavisd
AMAVISD_SOURCE	:= $(THIRD_PARTY)/$(AMAVISD_DIR)/amavisd-new-$(AMAVISD_VERSION)

DSPAM_VERSION	:= 3.10.2
DSPAM_DIR	:=  dspam
DSPAM_SOURCE	:= $(THIRD_PARTY_BUILDS)/$(BUILD_PLATFORM)/$(DSPAM_DIR)/$(DSPAM_DIR)-$(DSPAM_VERSION)

SASL_VERSION	:= 2.1.26.2z
SASL_DIR	:= cyrus-sasl
SASL_SOURCE	:= $(THIRD_PARTY_BUILDS)/$(BUILD_PLATFORM)/$(SASL_DIR)/$(SASL_DIR)-$(SASL_VERSION)

OPENSSL_VERSION	:= 1.0.1e
OPENSSL_DIR	:= openssl
OPENSSL_SOURCE	:= $(THIRD_PARTY_BUILDS)/$(BUILD_PLATFORM)/$(OPENSSL_DIR)/$(OPENSSL_DIR)-$(OPENSSL_VERSION)

HEIMDAL_VERSION	?= 1.5.2
HEIMDAL_DIR	:= heimdal
HEIMDAL_SOURCE	:= $(THIRD_PARTY_BUILDS)/$(BUILD_PLATFORM)/$(HEIMDAL_DIR)/$(HEIMDAL_DIR)-$(HEIMDAL_VERSION)

LIBTOOL_VERSION	:= 2.2.6b
LIBTOOL_DIR	:= libtool
LIBTOOL_SOURCE	:= $(THIRD_PARTY_BUILDS)/$(BUILD_PLATFORM)/$(LIBTOOL_DIR)/$(LIBTOOL_DIR)-$(LIBTOOL_VERSION)

CURL_VERSION	:= 7.30.0
CURL_DIR	:= curl
CURL_SOURCE	:= $(THIRD_PARTY_BUILDS)/$(BUILD_PLATFORM)/$(CURL_DIR)/$(CURL_DIR)-$(CURL_VERSION)

ZMQ_VERSION	:= 3.2.2
ZMQ_DIR		:= zeromq-$(ZMQ_VERSION)
ZMQ_SOURCE	:= $(THIRD_PARTY_BUILDS)/$(BUILD_PLATFORM)/zeromq/$(ZMQ_DIR)

LOG4J_VERSION := 1.2.16

JAVA_BINARY := /opt/zimbra/java/bin/java

JNI_EXT := so

PERL_LIB_SOURCE	:= $(THIRD_PARTY_BUILDS)/$(BUILD_PLATFORM)/perl
PERL_LIB_BUILD := $(THIRD_PARTY)/Perl
